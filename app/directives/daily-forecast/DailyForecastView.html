<div>
	<div style="float:right">
		<b>Issued: </b>{{vm.issued}}
	</div>
	<div class="clearfix"></div>
	<div class="forecast-day" ng-repeat="(key, value) in vm.weatherForecast.forecasts | groupBy: 'day'">
		<b>{{key}}</b>
		<table style="width:100%;">
			<tr>
				<td class="forecast-label">Time</td>
				<td align="center"
                    ng-repeat="forecast in value | orderBy:'time'" >
                    <div class="forecast-headline forecast-value"
                         ng-class="{night: dailyForecastController.isNightTime(forecast.time)}">
				      {{forecast.time | date : 'HH'}}
                    </div>
				</td>
			</tr>
			<tr>
				<td class="forecast-label">Avg</td>
				<td align="center" ng-repeat="forecast in value | orderBy:'time'">
					<div style="height: 70px; position:relative"
                         class="forecast-value"
                         ng-class="{night: dailyForecastController.isNightTime(forecast.time)}">
						{{forecast.windAvg}}
						<div style="z-index: -10; position:absolute; bottom: 0; width: 100%;
                                background-color: hsl({{250-(forecast.windAvg * 6)}},100%,45%);
                                height: {{forecast.windAvg * 2}}px">
						</div>
					</div>

				</td>
			</tr>
			<tr>
				<td class="forecast-label">Gust</td>
				<td  align="center" ng-repeat="forecast in value | orderBy:'time'">
					<div class="forecast-value" style="background-color: hsl({{250-(forecast.windGust * 6)}},100%,45%)"
                        ng-class="{night: dailyForecastController.isNightTime(forecast.time)}">
						{{forecast.windGust}}
					</div>

				</td>
			</tr>
			<tr>
				<td class="forecast-label">Dir</td>
				<td style="height: 60px;" align="center"
                    ng-repeat="forecast in value | orderBy:'time'">
                    <div class="forecast-value"
                         ng-class="{night: dailyForecastController.isNightTime(forecast.time)}">
    					<div style="width:100%; transform: rotate({{forecast.windDirection}}deg);
                                    -webkit-transform: rotate({{forecast.windDirection}}deg);
                                    -ms-transform: rotate({{forecast.windDirection}}deg);">
    						<img class="winddir-image" src="/icons/arrow_down.png">
    					</div>
                        <div class="winddir-value">
    					  {{forecast.windDirection}}
                        </div>
                    </div>
				</td>
			</tr>
			<tr>
				<td class="forecast-label">Â°C</td>
				<td  align="center" ng-repeat="forecast in value | orderBy:'time'">
                    <div class="forecast-value" ng-class="{night: dailyForecastController.isNightTime(forecast.time)}">
					  {{forecast.temperature}}
                    </div>
				</td>
			</tr>
			<tr ng-show="vm.weatherForecast.hasCloudCoverageInfo">
				<td class="forecast-label">Sky</td>
				<td  align="center" ng-repeat="forecast in value | orderBy:'time'">
                    <div class="forecast-value" ng-class="{night: dailyForecastController.isNightTime(forecast.time)}">
					  <img class="sky" ng-show="dailyForecastController.getWeatherIconURL(forecast)"
                          ng-src="{{dailyForecastController.getWeatherIconURL(forecast)}}">
                    </div>
				</td>
			</tr>
			<tr>
				<td class="forecast-label">Rain</td>
				<td  align="center" ng-repeat="forecast in value | orderBy:'time'">
					<div class="forecast-value" style="background-color:
                                {{dailyForecastController.getPrecipitationBackgroundColor(forecast)}}"
                                ng-class="{night: dailyForecastController.isNightTime(forecast.time)}">
						{{forecast.precipitation | number : 1}}
					</div>
				</td>
			</tr>
			<tr ng-show="vm.tideChart.show">
				<td class="forecast-label">Tide</td>
				<td style="border: 1px solid grey;" colspan="24" align="center">
					<div ng-show="vm.tideChart.show" style="margin: 5px">
						<canvas ng-attr-id="{{'tideChart_' + key}}" class="chart chart-line"
                            chart-data="vm.tideChart.data[key]" chart-labels="vm.tideChart.labels[key]"
                            chart-legend="false" chart-series="vm.tideChart.series"
                            chart-options="vm.tideChart.options">
						</canvas>
					</div>
				</td>
			</tr>
		</table>
	</div>
</div>
